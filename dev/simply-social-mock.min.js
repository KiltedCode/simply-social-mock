/*! simply-social-mock - v0.1.0 - 2015-08-24 */"use strict";angular.module("ssm",["ngRoute","ssm.home","ssm.user","angularMoment"]).run(["$rootScope","CurrentUserService",function(a,b){a.currentUser=b.getCurrentUser(),a.nav={},a.nav.showNewMsg=!1,moment.lang("en",{relativeTime:{future:"in %s",past:"%s",s:"seconds ago",m:"1m",mm:"%dm",h:"1h",hh:"%dh",d:"1d",dd:"%dd",M:"1m",MM:"%dm",y:"1y",yy:"%dy"}})}]),angular.module("ssm").config(["$routeProvider",function(a){a.when("/",{redirectTo:"/home"}),a.otherwise({redirectTo:"/404"})}]),angular.module("ssm.home",["ssm.user","ngRoute","ngSanitize"]).config(["$routeProvider",function(a){a.when("/home",{templateUrl:"views/home.html",controller:"HomeCtrl"})}]),angular.module("ssm.home").controller("HomeCtrl",["$scope","$routeParams","HomeService",function(a,b,c){a.model={},a.model.postFilter="",a.model.view="list",a.model.posts=[],a.nav.showNewMsg=!1,a.model.newMsg="";var d=100;a.model.addMsg=function(){if(a.model.newMsg&&a.model.newMsg.length>0){var b={id:++d,ts:(new Date).getTime(),user:a.currentUser,liked:!1,msg:a.model.newMsg,photo:null,video:null,replies:[]};a.model.posts.push(b),a.model.newMsg="",a.nav.showNewMsg=!1}};var e=function(){for(var b=(new Date).getTime(),c=0,d=a.model.posts.length;d>c;c++){var e=0;e=5>=c?Math.floor(10*Math.random())+1:Math.floor(36*Math.random())+1,b-=6e4*e,a.model.posts[c].ts=b}};c.getPosts().success(function(b,c){a.model.posts=b,e()}).error(function(a,b){console.log("error",b)}),a.model.listFilter=function(b){return"photo"==a.model.postFilter?b.photo:"video"==a.model.postFilter?b.video:!0}}]),angular.module("ssm.home").factory("HomeService",["$http",function(a){return{getPosts:function(){return a.get("/app/data/posts.json")}}}]),angular.module("ssm.user",["ngRoute"]).config(["$routeProvider",function(a){a.when("/currentuser/settings",{templateUrl:"views/user-settings.html",controller:"UserSettingsCtrl"})}]),angular.module("ssm.home").controller("UserSettingsCtrl",["$scope","$routeParams","CurrentUserService",function(a,b,c){a.model={},a.model.changePassword=!1,c.getUserSettings().success(function(b,c){a.model.user=b}).error(function(a,b){console.log("error",b)})}]),angular.module("ssm.user").factory("CurrentUserService",["$http",function(a){var b={id:"aaaa-tuan",fname:"Jessica",lname:"Tuan",photo:"aaaa-tuan-thumb.png"};return{getCurrentUser:function(){return b},getUserSettings:function(){return a.get("/app/data/current-user-settings.json")}}}]);